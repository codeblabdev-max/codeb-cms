import{a as k,b as $,c as q,d as A}from"/build/_shared/chunk-W742HMV2.js";import{a as n}from"/build/_shared/chunk-OBH5SJ3U.js";import"/build/_shared/chunk-DOIQJ27M.js";import"/build/_shared/chunk-3GMP5WPF.js";import{a as b,b as I,c as N,e as w}from"/build/_shared/chunk-NWFYU2FN.js";import{a as f,b as v,c as h,d as y,e as u}from"/build/_shared/chunk-AN4UQUMK.js";import"/build/_shared/chunk-KL5BGV2P.js";import"/build/_shared/chunk-QICCFYE2.js";import{a as L}from"/build/_shared/chunk-PCTR2B2R.js";import"/build/_shared/chunk-IOAK6PR3.js";import"/build/_shared/chunk-VIBQ7JRO.js";import"/build/_shared/chunk-Q6XJQZ5P.js";import{O as M,ha as B,ka as S,va as g}from"/build/_shared/chunk-I65ZP6PF.js";import{a as l}from"/build/_shared/chunk-FNIX4AK2.js";import{a as r}from"/build/_shared/chunk-TBWM3XNV.js";import{e as i}from"/build/_shared/chunk-6LERFUO7.js";import"/build/_shared/chunk-EMPAMISE.js";import{a as E}from"/build/_shared/chunk-YBX7ITP5.js";import{a as G}from"/build/_shared/chunk-CW54B3GA.js";import{a as H}from"/build/_shared/chunk-KPWQHS6G.js";import{a as R,n as C,p as F,s as T}from"/build/_shared/chunk-K4PGTQBQ.js";import{d as o}from"/build/_shared/chunk-T36URGAI.js";var J=o(H(),1);var O=o(E(),1),P=o(G(),1),x=o(R(),1);var e=o(T(),1),de=l.object({title:l.string().min(1,"\uC81C\uBAA9\uC740 \uD544\uC218\uC785\uB2C8\uB2E4"),url:l.string().min(1,"URL\uC740 \uD544\uC218\uC785\uB2C8\uB2E4"),order:l.number().int().min(0),parentId:l.string().optional().nullable()});function z(){let{menus:c,boards:D}=C(),d=F(),[U,p]=(0,x.useState)(null),[m,V]=(0,x.useState)({});return(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"\uBA54\uB274 \uAD00\uB9AC"}),(0,e.jsx)("p",{className:"text-muted-foreground",children:"\uC0AC\uC774\uD2B8 \uBA54\uB274\uB97C \uAD00\uB9AC\uD569\uB2C8\uB2E4."})]}),(0,e.jsxs)(b,{children:[(0,e.jsx)(I,{children:(0,e.jsx)(N,{children:"\uC0C8 \uBA54\uB274 \uCD94\uAC00"})}),(0,e.jsx)(w,{children:(0,e.jsxs)(d.Form,{method:"post",className:"flex gap-4",children:[(0,e.jsx)("input",{type:"hidden",name:"intent",value:"createMenu"}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)(n,{htmlFor:"name",children:"\uBA54\uB274 \uC774\uB984"}),(0,e.jsx)(r,{id:"name",name:"name",placeholder:"\uBA54\uC778 \uBA54\uB274",required:!0})]}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)(n,{htmlFor:"position",children:"\uC704\uCE58"}),(0,e.jsx)(r,{id:"position",name:"position",placeholder:"header",required:!0})]}),(0,e.jsx)("div",{className:"flex items-end",children:(0,e.jsx)(i,{type:"submit",children:"\uCD94\uAC00"})})]})})]}),(0,e.jsxs)(k,{defaultValue:c[0]?.id||"",children:[(0,e.jsx)($,{children:c.map(t=>(0,e.jsxs)(q,{value:t.id,children:[t.name,(0,e.jsx)(L,{variant:"secondary",className:"ml-2",children:t.position})]},t.id))}),c.map(t=>(0,e.jsx)(A,{value:t.id,children:(0,e.jsxs)(b,{children:[(0,e.jsx)(I,{children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)(N,{children:[t.name," \uBA54\uB274 \uD56D\uBAA9"]}),(0,e.jsxs)(d.Form,{method:"post",className:"inline",children:[(0,e.jsx)("input",{type:"hidden",name:"intent",value:"deleteMenu"}),(0,e.jsx)("input",{type:"hidden",name:"menuId",value:t.id}),(0,e.jsx)(i,{variant:"destructive",size:"sm",type:"submit",onClick:a=>{confirm("\uC774 \uBA54\uB274\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")||a.preventDefault()},children:"\uBA54\uB274 \uC0AD\uC81C"})]})]})}),(0,e.jsx)(w,{children:(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)(d.Form,{method:"post",className:"space-y-4 border-b pb-4",children:[(0,e.jsx)("input",{type:"hidden",name:"intent",value:"createMenuItem"}),(0,e.jsx)("input",{type:"hidden",name:"menuId",value:t.id}),(0,e.jsx)("input",{type:"hidden",name:"urlType",value:m[t.id]||"custom"}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(n,{htmlFor:`title-${t.id}`,children:"\uC81C\uBAA9"}),(0,e.jsx)(r,{id:`title-${t.id}`,name:"title",placeholder:"\uBA54\uB274 \uD56D\uBAA9",required:!0})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(n,{htmlFor:`urlType-${t.id}`,children:"URL \uD0C0\uC785"}),(0,e.jsxs)(f,{value:m[t.id]||"custom",onValueChange:a=>{V({...m,[t.id]:a})},children:[(0,e.jsx)(h,{id:`urlType-${t.id}`,children:(0,e.jsx)(v,{placeholder:"URL \uD0C0\uC785 \uC120\uD0DD"})}),(0,e.jsxs)(y,{children:[(0,e.jsx)(u,{value:"board",children:"\uAC8C\uC2DC\uD310"}),(0,e.jsx)(u,{value:"custom",children:"\uC9C1\uC811\uC785\uB825"})]})]})]})]}),m[t.id]==="board"?(0,e.jsxs)("div",{children:[(0,e.jsx)(n,{htmlFor:`boardId-${t.id}`,children:"\uAC8C\uC2DC\uD310 \uC120\uD0DD"}),(0,e.jsxs)(f,{name:"boardId",required:!0,children:[(0,e.jsx)(h,{id:`boardId-${t.id}`,children:(0,e.jsx)(v,{placeholder:"\uAC8C\uC2DC\uD310\uC744 \uC120\uD0DD\uD558\uC138\uC694"})}),(0,e.jsx)(y,{children:D.map(a=>(0,e.jsxs)(u,{value:a.id,children:[a.name," (/",a.slug,")"]},a.id))})]})]}):(0,e.jsxs)("div",{children:[(0,e.jsx)(n,{htmlFor:`url-${t.id}`,children:"URL"}),(0,e.jsx)(r,{id:`url-${t.id}`,name:"url",placeholder:"/about",required:m[t.id]!=="board"})]}),(0,e.jsx)("div",{className:"flex justify-end",children:(0,e.jsxs)(i,{type:"submit",children:[(0,e.jsx)(S,{className:"h-4 w-4 mr-1"}),"\uCD94\uAC00"]})})]}),(0,e.jsx)("div",{className:"space-y-2",children:t.items.filter(a=>!a.parentId).map(a=>(0,e.jsxs)("div",{className:"rounded-lg border p-3",children:[U===a.id?(0,e.jsxs)(d.Form,{method:"post",className:"flex gap-2",onSubmit:()=>p(null),children:[(0,e.jsx)("input",{type:"hidden",name:"intent",value:"updateMenuItem"}),(0,e.jsx)("input",{type:"hidden",name:"itemId",value:a.id}),(0,e.jsx)(r,{name:"title",defaultValue:a.title,required:!0}),(0,e.jsx)(r,{name:"url",defaultValue:a.url,required:!0}),(0,e.jsx)(i,{type:"submit",size:"sm",children:"\uC800\uC7A5"}),(0,e.jsx)(i,{type:"button",size:"sm",variant:"outline",onClick:()=>p(null),children:"\uCDE8\uC18C"})]}):(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(M,{className:"h-4 w-4 text-gray-400"}),(0,e.jsx)("span",{className:"font-medium",children:a.title}),(0,e.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",a.url,")"]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)(i,{size:"icon",variant:"ghost",onClick:()=>p(a.id),children:(0,e.jsx)(B,{className:"h-4 w-4"})}),(0,e.jsxs)(d.Form,{method:"post",className:"inline",children:[(0,e.jsx)("input",{type:"hidden",name:"intent",value:"deleteMenuItem"}),(0,e.jsx)("input",{type:"hidden",name:"itemId",value:a.id}),(0,e.jsx)(i,{size:"icon",variant:"ghost",type:"submit",onClick:s=>{confirm("\uC774 \uBA54\uB274 \uD56D\uBAA9\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")||s.preventDefault()},children:(0,e.jsx)(g,{className:"h-4 w-4 text-red-600"})})]})]})]}),a.children.length>0&&(0,e.jsx)("div",{className:"mt-2 ml-6 space-y-1",children:a.children.map(s=>(0,e.jsxs)("div",{className:"flex items-center justify-between rounded border bg-gray-50 p-2",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{className:"text-sm",children:s.title}),(0,e.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",s.url,")"]})]}),(0,e.jsxs)(d.Form,{method:"post",className:"inline",children:[(0,e.jsx)("input",{type:"hidden",name:"intent",value:"deleteMenuItem"}),(0,e.jsx)("input",{type:"hidden",name:"itemId",value:s.id}),(0,e.jsx)(i,{size:"icon",variant:"ghost",type:"submit",onClick:j=>{confirm("\uC774 \uBA54\uB274 \uD56D\uBAA9\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")||j.preventDefault()},children:(0,e.jsx)(g,{className:"h-3 w-3 text-red-600"})})]})]},s.id))})]},a.id))})]})})]})},t.id))]})]})}export{z as default};
