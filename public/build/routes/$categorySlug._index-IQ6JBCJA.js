import{a as se,b as re,c as oe,d as I,e as w,f as y,g as ne}from"/build/_shared/chunk-N5S23J2N.js";import{a as ie,b as le,e as me,f as ce}from"/build/_shared/chunk-NWFYU2FN.js";import{a as Z,b as ee,c as te,d as ae,e as L}from"/build/_shared/chunk-AN4UQUMK.js";import"/build/_shared/chunk-KL5BGV2P.js";import"/build/_shared/chunk-QICCFYE2.js";import{a as R}from"/build/_shared/chunk-PMSXDEH4.js";import{k as H}from"/build/_shared/chunk-CUW5AVGU.js";import{a as b}from"/build/_shared/chunk-PCTR2B2R.js";import"/build/_shared/chunk-IOAK6PR3.js";import"/build/_shared/chunk-VIBQ7JRO.js";import"/build/_shared/chunk-Q6XJQZ5P.js";import{Ca as Q,G as K,L as G,ca as W,da as j,ja as q,na as V,q as z,r as O,ra as Y,t as $,u as F,ua as J}from"/build/_shared/chunk-I65ZP6PF.js";import{a as X}from"/build/_shared/chunk-TBWM3XNV.js";import{e as c}from"/build/_shared/chunk-6LERFUO7.js";import{b as U}from"/build/_shared/chunk-EMPAMISE.js";import{a as ve}from"/build/_shared/chunk-YBX7ITP5.js";import{a as we}from"/build/_shared/chunk-CW54B3GA.js";import{a as Ne}from"/build/_shared/chunk-KPWQHS6G.js";import{a as be,g as _,i as p,n as E,s as u}from"/build/_shared/chunk-K4PGTQBQ.js";import{d as n}from"/build/_shared/chunk-T36URGAI.js";var Se=n(Ne(),1);var fe=n(be(),1);var g=n(u(),1);function de(){return(0,g.jsx)(re,{children:(0,g.jsxs)(I,{className:"border-t-2 border-b-2 border-primary bg-muted/50",children:[(0,g.jsx)(w,{className:"w-[80px] text-center font-semibold text-foreground",children:"\uBC88\uD638"}),(0,g.jsx)(w,{className:"font-semibold text-foreground",children:"\uC81C\uBAA9"}),(0,g.jsx)(w,{className:"w-[120px] text-center font-semibold text-foreground",children:"\uC791\uC131\uC790"}),(0,g.jsx)(w,{className:"w-[100px] text-center font-semibold text-foreground",children:"\uB0A0\uC9DC"}),(0,g.jsx)(w,{className:"w-[80px] text-center font-semibold text-foreground",children:"\uC870\uD68C"}),(0,g.jsx)(w,{className:"w-[80px] text-center font-semibold text-foreground",children:"\uCD94\uCC9C"})]})})}var r=n(u(),1);function ue({post:a,categorySlug:N}){let{id:o,number:f,title:C,slug:T,author:h,createdAt:x,views:P,likes:M,commentCount:B=0,isNotice:i=!1,isNew:S=!1,isHot:A=!1}=a,k=v=>{let l=typeof v=="string"?new Date(v):v,D=new Date,t=(D.getTime()-l.getTime())/(1e3*60*60);return t<1?R(l,{addSuffix:!0,locale:H}):t<24?`${Math.floor(t)}\uC2DC\uAC04 \uC804`:l.toDateString()===D.toDateString()?l.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}):l.toLocaleDateString("ko-KR",{month:"2-digit",day:"2-digit"})};return(0,r.jsxs)(I,{className:i?"bg-primary/5":"hover:bg-muted/50",children:[(0,r.jsx)(y,{className:"text-center text-sm",children:i?(0,r.jsxs)(b,{variant:"secondary",className:"gap-1",children:[(0,r.jsx)(q,{className:"h-3 w-3"}),"\uACF5\uC9C0"]}):(0,r.jsx)("span",{className:"text-muted-foreground",children:f})}),(0,r.jsx)(y,{children:(0,r.jsxs)(p,{to:`/${N}/${T}`,className:"flex items-center gap-2 hover:underline",children:[(0,r.jsx)("span",{className:U("text-gray-900",i&&"font-semibold"),children:C}),B>0&&(0,r.jsxs)("span",{className:"flex items-center gap-0.5 text-primary",children:[(0,r.jsx)(j,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:"text-xs font-semibold",children:B})]}),S&&(0,r.jsx)(b,{variant:"default",className:"h-5 px-1.5 text-[10px]",children:"NEW"}),A&&(0,r.jsx)(b,{variant:"destructive",className:"h-5 px-1.5 text-[10px]",children:"\uC778\uAE30"})]})}),(0,r.jsx)(y,{className:"text-center text-sm text-muted-foreground",children:h}),(0,r.jsx)(y,{className:"text-center text-sm text-muted-foreground",children:k(x)}),(0,r.jsx)(y,{className:"text-center text-sm text-muted-foreground",children:P.toLocaleString()}),(0,r.jsx)(y,{className:"text-center text-sm text-muted-foreground",children:M.toLocaleString()})]})}var s=n(u(),1);function ge({post:a,categorySlug:N}){let o=R(new Date(a.createdAt),{addSuffix:!0,locale:H}),f=a.content.replace(/<[^>]*>/g,"").slice(0,100).trim();return(0,s.jsx)(ie,{className:"relative overflow-hidden touch-manipulation hover:shadow-md transition-shadow duration-200",children:(0,s.jsxs)(p,{to:`/${N}/${a.slug||a.id}`,className:"block",prefetch:"intent",children:[(0,s.jsx)(le,{className:"pb-3",children:(0,s.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[a.isPinned&&(0,s.jsx)(b,{variant:"destructive",className:"text-xs px-1.5 py-0",children:"\uACF5\uC9C0"}),a.isHot&&(0,s.jsx)(b,{variant:"secondary",className:"text-xs px-1.5 py-0 bg-orange-100 text-orange-700",children:"\uC778\uAE30"}),a.category&&(0,s.jsx)(b,{variant:"outline",className:"text-xs px-1.5 py-0",children:a.category})]}),(0,s.jsxs)("h3",{className:"font-medium text-base line-clamp-2 break-all",children:[a.title,a.hasImage&&(0,s.jsx)("span",{className:"ml-1 text-gray-400",children:"\u{1F4F7}"})]})]})})}),(0,s.jsx)(me,{className:"pb-3",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600 line-clamp-2 break-all",children:[f,"..."]})}),(0,s.jsx)(ce,{className:"pt-0 pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full text-xs text-gray-500",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(Q,{className:"w-3 h-3"}),a.author]}),(0,s.jsx)("span",{children:o})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,s.jsx)(K,{className:"w-3 h-3"}),a.viewCount]}),(0,s.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,s.jsx)(J,{className:"w-3 h-3"}),a.likeCount]}),(0,s.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,s.jsx)(W,{className:"w-3 h-3"}),a.commentCount]})]})]})})]})})}var e=n(u(),1),ye=50,Ce=15;function he({posts:a,totalPosts:N,currentPage:o,categorySlug:f,categoryName:C,isLoggedIn:T=!1}){let[h,x]=_(),[P,M]=(0,fe.useState)(h.get("search")||""),B=h.get("sort")||"latest",i=Math.ceil(N/ye),S=Ce,A=Math.floor((o-1)/S),k=A*S+1,v=Math.min(k+S-1,i),l=t=>{let m=new URLSearchParams(h);m.set("page",t.toString()),x(m)};return(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsx)("div",{className:"bg-primary/5 border-y border-primary/20 py-6 sm:py-8 px-4",children:(0,e.jsxs)("div",{className:"container mx-auto max-w-6xl",children:[(0,e.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-center",children:C}),(0,e.jsxs)("p",{className:"text-center text-sm sm:text-base text-muted-foreground mt-2",children:[C," \uAD00\uB828 \uC815\uBCF4\uC640 \uD1A0\uB860\uC744 \uB098\uB204\uB294 \uACF5\uAC04\uC785\uB2C8\uB2E4"]})]})}),(0,e.jsxs)("div",{className:"container mx-auto max-w-6xl px-4",children:[(0,e.jsxs)("div",{className:"flex flex-col gap-3 mb-4",children:[(0,e.jsxs)("form",{onSubmit:t=>{t.preventDefault();let m=new URLSearchParams(h);P?m.set("search",P):m.delete("search"),m.delete("page"),x(m)},className:"flex gap-2",children:[(0,e.jsx)(X,{type:"text",placeholder:"\uAC80\uC0C9\uC5B4\uB97C \uC785\uB825\uD558\uC138\uC694",value:P,onChange:t=>M(t.target.value),className:"flex-1 text-sm sm:text-base"}),(0,e.jsx)(c,{type:"submit",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10",children:(0,e.jsx)(V,{className:"h-4 w-4"})})]}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsxs)(Z,{value:B,onValueChange:t=>{let m=new URLSearchParams(h);m.set("sort",t),m.delete("page"),x(m)},children:[(0,e.jsx)(te,{className:"flex-1 sm:w-[180px] text-sm sm:text-base",children:(0,e.jsx)(ee,{placeholder:"\uC815\uB82C \uAE30\uC900"})}),(0,e.jsxs)(ae,{children:[(0,e.jsx)(L,{value:"latest",children:"\uCD5C\uC2E0\uC21C"}),(0,e.jsx)(L,{value:"views",children:"\uC870\uD68C\uC21C"}),(0,e.jsx)(L,{value:"likes",children:"\uCD94\uCC9C\uC21C"})]})]}),(0,e.jsx)(c,{variant:"outline",size:"icon",className:"md:hidden h-9 w-9",children:(0,e.jsx)(G,{className:"h-4 w-4"})})]})]}),(0,e.jsxs)("div",{className:"md:hidden space-y-3",children:[a.map(t=>(0,e.jsx)(ge,{post:{id:parseInt(t.id),title:t.title,content:t.content||"",author:t.author,authorAvatar:t.authorAvatar,createdAt:typeof t.createdAt=="string"?t.createdAt:t.createdAt.toISOString(),viewCount:t.views,likeCount:t.likes,commentCount:t.commentCount||0,category:t.category,tags:t.tags,isPinned:t.isNotice,isHot:t.isHot,hasImage:t.hasImage,slug:t.slug},categorySlug:f},t.id)),a.length===0&&(0,e.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"\uAC8C\uC2DC\uAE00\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."})]}),(0,e.jsx)("div",{className:"hidden md:block border border-gray-200 dark:border-gray-800 rounded-lg overflow-hidden bg-white dark:bg-gray-900",children:(0,e.jsxs)(se,{children:[(0,e.jsx)(de,{}),(0,e.jsx)(oe,{children:a.map(t=>(0,e.jsx)(ue,{post:t,categorySlug:f},t.id))}),a.length===0&&(0,e.jsx)(ne,{className:"py-8",children:"\uAC8C\uC2DC\uAE00\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."})]})}),i>1&&(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 mt-6 overflow-x-auto pb-2",children:[(0,e.jsxs)("div",{className:"flex md:hidden items-center gap-2",children:[(0,e.jsxs)(c,{variant:"outline",size:"sm",onClick:()=>l(Math.max(1,o-1)),disabled:o===1,className:"h-9 px-3",children:[(0,e.jsx)(z,{className:"h-4 w-4"}),"\uC774\uC804"]}),(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)("span",{className:"text-sm font-medium dark:text-gray-100",children:o}),(0,e.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"/"}),(0,e.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:i})]}),(0,e.jsxs)(c,{variant:"outline",size:"sm",onClick:()=>l(Math.min(i,o+1)),disabled:o===i,className:"h-9 px-3",children:["\uB2E4\uC74C",(0,e.jsx)(O,{className:"h-4 w-4"})]})]}),(0,e.jsxs)("div",{className:"hidden md:flex items-center gap-1",children:[(0,e.jsx)(c,{variant:"outline",size:"icon",onClick:()=>l(1),disabled:o===1,children:(0,e.jsx)($,{className:"h-4 w-4"})}),(0,e.jsx)(c,{variant:"outline",size:"icon",onClick:()=>l(Math.max(1,k-S)),disabled:A===0,children:(0,e.jsx)(z,{className:"h-4 w-4"})}),Array.from({length:v-k+1},(t,m)=>k+m).map(t=>(0,e.jsx)(c,{variant:o===t?"default":"outline",size:"sm",onClick:()=>l(t),className:"min-w-[40px]",children:t},t)),(0,e.jsx)(c,{variant:"outline",size:"icon",onClick:()=>l(Math.min(i,v+1)),disabled:v===i,children:(0,e.jsx)(O,{className:"h-4 w-4"})}),(0,e.jsx)(c,{variant:"outline",size:"icon",onClick:()=>l(i),disabled:o===i,children:(0,e.jsx)(F,{className:"h-4 w-4"})})]})]}),T&&(0,e.jsx)("div",{className:"flex justify-end mt-4",children:(0,e.jsx)(c,{asChild:!0,className:"w-full sm:w-auto",children:(0,e.jsx)(p,{to:`/${f}/write`,children:"\uAE00\uC4F0\uAE30"})})})]})]})}var ke=n(ve(),1),Pe=n(we(),1);var d=n(u(),1);function xe(){let{menu:a,posts:N,currentPage:o,totalPages:f,totalPosts:C,sort:T,search:h,user:x}=E();return(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:(0,d.jsxs)("div",{className:"container mx-auto px-4 py-8",style:{maxWidth:"1450px"},children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:a.name}),x&&(0,d.jsx)(p,{to:`/${a.slug}/write`,children:(0,d.jsxs)(c,{children:[(0,d.jsx)(Y,{className:"h-4 w-4 mr-2"}),"\uAE00\uC4F0\uAE30"]})})]}),a.description&&(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:a.description})]}),(0,d.jsx)(he,{posts:N,currentPage:o,totalPosts:C,categorySlug:a.slug,categoryName:a.name,isLoggedIn:!!x})]})})}export{xe as default};
