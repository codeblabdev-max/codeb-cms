import{Ca as B,Da as Z,G as X,ca as F,m as j,r as G,wa as Q,x as J}from"/build/_shared/chunk-I65ZP6PF.js";import{a as K}from"/build/_shared/chunk-TBWM3XNV.js";import{e as D}from"/build/_shared/chunk-6LERFUO7.js";import{b as z}from"/build/_shared/chunk-EMPAMISE.js";import{a as de}from"/build/_shared/chunk-YBX7ITP5.js";import{a as ge}from"/build/_shared/chunk-CW54B3GA.js";import{a as le}from"/build/_shared/chunk-KPWQHS6G.js";import{a as H,e as q,i as b,j as W,n as U,p as _,s as N}from"/build/_shared/chunk-K4PGTQBQ.js";import{d as m}from"/build/_shared/chunk-T36URGAI.js";var he=m(le(),1);var me=m(de(),1),ve=m(ge(),1);var d=m(N(),1);function ee({title:c,slug:e,posts:i,color:r="blue"}){return(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[(0,d.jsxs)("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"font-bold text-gray-900 dark:text-gray-100 text-lg",children:c}),(0,d.jsxs)(b,{to:`/${e}`,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 flex items-center gap-1 text-sm font-medium transition-colors",children:["\uB354\uBCF4\uAE30",(0,d.jsx)(G,{className:"h-4 w-4"})]})]}),(0,d.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:i.length>0?i.map((s,l)=>(0,d.jsx)(b,{to:`/${e}/${s.slug}`,className:"block hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:(0,d.jsx)("div",{className:"p-4",children:(0,d.jsx)("div",{className:"flex gap-3 items-start",children:(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1 line-clamp-2 text-sm hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:s.title}),(0,d.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)(j,{className:"h-3 w-3"}),ce(s.publishedAt)]}),(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)(X,{className:"h-3 w-3"}),s.viewCount.toLocaleString()]}),s.commentCount!==void 0&&s.commentCount>0&&(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)(F,{className:"h-3 w-3"}),s.commentCount]}),(0,d.jsx)("span",{className:"ml-auto text-gray-600 dark:text-gray-300 font-medium",children:s.author.name})]})]})})})},s.id)):(0,d.jsx)("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"\uC544\uC9C1 \uAC8C\uC2DC\uBB3C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"})})]})}function ce(c){let e=new Date(c),i=new Date,r=Math.floor((i.getTime()-e.getTime())/(1e3*60*60));if(r<24){if(r===0){let s=Math.floor((i.getTime()-e.getTime())/6e4);if(s<60)return`${s}\uBD84 \uC804`}return`${r}\uC2DC\uAC04 \uC804`}return e.getFullYear()===i.getFullYear()?`${e.getMonth()+1}.${e.getDate()}`:`${e.getFullYear()}.${e.getMonth()+1}.${e.getDate()}`}var t=m(N(),1);function te({popularPosts:c=[],memberRankings:e=[],recentComments:i=[],position:r="right",user:s}){let l=q();return(0,t.jsxs)("aside",{className:z("w-full lg:w-80 space-y-6",r==="left"?"lg:pr-6":"lg:pl-6"),children:[!s&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-4 py-3 bg-gradient-to-r from-gray-500 to-gray-600 dark:from-gray-700 dark:to-gray-800",children:(0,t.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:[(0,t.jsx)(B,{className:"h-4 w-4"}),"\uB85C\uADF8\uC778"]})}),(0,t.jsxs)(W,{method:"post",action:"/auth/login",className:"p-4 space-y-3",children:[(0,t.jsx)("div",{children:(0,t.jsx)(K,{type:"email",name:"emailOrUsername",placeholder:"\uC774\uBA54\uC77C",required:!0,className:"w-full",disabled:l.state==="submitting"})}),(0,t.jsx)("div",{children:(0,t.jsx)(K,{type:"password",name:"password",placeholder:"\uBE44\uBC00\uBC88\uD638",required:!0,className:"w-full",disabled:l.state==="submitting"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",name:"remember",id:"remember",className:"rounded border-gray-300"}),(0,t.jsx)("label",{htmlFor:"remember",className:"text-sm text-gray-600 dark:text-gray-400",children:"\uB85C\uADF8\uC778 \uC0C1\uD0DC \uC720\uC9C0"})]}),(0,t.jsx)(D,{type:"submit",className:"w-full",disabled:l.state==="submitting",children:l.state==="submitting"?"\uB85C\uADF8\uC778 \uC911...":"\uB85C\uADF8\uC778"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(b,{to:"/auth/register",className:"text-sm text-blue-600 hover:underline",children:"\uD68C\uC6D0\uAC00\uC785"}),(0,t.jsx)("span",{className:"text-gray-400 mx-2",children:"|"}),(0,t.jsx)(b,{to:"/auth/forgot-password",className:"text-sm text-blue-600 hover:underline",children:"\uBE44\uBC00\uBC88\uD638 \uCC3E\uAE30"})]}),(0,t.jsxs)("div",{className:"border-t pt-2",children:[(0,t.jsx)("p",{className:"text-xs text-center text-gray-500 mb-2",children:"\uD14C\uC2A4\uD2B8 \uACC4\uC815"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(D,{type:"button",variant:"outline",size:"sm",onClick:()=>{let a=document.querySelector('form[action="/auth/login"]');if(a){let n=a.querySelector('input[name="emailOrUsername"]'),o=a.querySelector('input[name="password"]');n&&o&&(n.value="admin@vsvs.kr",o.value="admin123",a.requestSubmit())}},className:"text-xs",disabled:l.state==="submitting",children:"\uAD00\uB9AC\uC790"}),(0,t.jsx)(D,{type:"button",variant:"outline",size:"sm",onClick:()=>{let a=document.querySelector('form[action="/auth/login"]');if(a){let n=a.querySelector('input[name="emailOrUsername"]'),o=a.querySelector('input[name="password"]');n&&o&&(n.value="user1@example.com",o.value="password123",a.requestSubmit())}},className:"text-xs",disabled:l.state==="submitting",children:"\uC77C\uBC18 \uC0AC\uC6A9\uC790"})]})]})]})]})]}),s&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 dark:from-green-700 dark:to-green-800",children:(0,t.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:[(0,t.jsx)(B,{className:"h-4 w-4"}),"\uB0B4 \uC815\uBCF4"]})}),(0,t.jsxs)("div",{className:"p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded-full mx-auto mb-3 flex items-center justify-center",children:(0,t.jsx)(B,{className:"h-10 w-10 text-gray-400 dark:text-gray-500"})}),(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.name||s.email.split("@")[0]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.email})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(b,{to:"/profile",className:"text-center py-2 px-3 bg-gray-100 dark:bg-gray-800 rounded text-sm text-gray-900 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"\uB0B4 \uC815\uBCF4"}),(0,t.jsx)(b,{to:"/my-posts",className:"text-center py-2 px-3 bg-gray-100 dark:bg-gray-800 rounded text-sm text-gray-900 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"\uB0B4 \uAE00"})]}),(0,t.jsx)(W,{method:"post",action:"/auth/logout",children:(0,t.jsx)(D,{type:"submit",variant:"outline",className:"w-full",children:"\uB85C\uADF8\uC544\uC6C3"})})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-700 dark:to-blue-800",children:(0,t.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:[(0,t.jsx)(Q,{className:"h-4 w-4"}),"\uC2E4\uC2DC\uAC04 \uC778\uAE30 \uAC8C\uC2DC\uBB3C"]})}),(0,t.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:c.length>0?c.map((a,n)=>(0,t.jsx)(b,{to:a.category?`/${a.category.slug}/${a.slug}`:`/post/${a.slug}`,className:"block px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:z("flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white",n===0?"bg-red-500":n===1?"bg-orange-500":n===2?"bg-yellow-500":"bg-gray-400"),children:n+1}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:a.title}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1 mt-1",children:[(0,t.jsx)(X,{className:"h-3 w-3"}),a.viewCount.toLocaleString()]})]})]})},a.id)):(0,t.jsx)("div",{className:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"\uC544\uC9C1 \uC778\uAE30 \uAC8C\uC2DC\uBB3C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"})})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-4 py-3 bg-gradient-to-r from-purple-500 to-purple-600 dark:from-purple-700 dark:to-purple-800",children:(0,t.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:[(0,t.jsx)(Z,{className:"h-4 w-4"}),"\uD68C\uC6D0 \uB7AD\uD0B9"]})}),(0,t.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:e.length>0?e.map(a=>(0,t.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:z("flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",a.rank===1?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":a.rank===2?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":a.rank===3?"bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300":"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400"),children:a.rank}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a.name||a.username})})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\uAC8C\uC2DC\uAE00 ",a.postCount]})]},a.id)):(0,t.jsx)("div",{className:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"\uD68C\uC6D0 \uC815\uBCF4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"})})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 dark:from-green-700 dark:to-green-800",children:(0,t.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:[(0,t.jsx)(F,{className:"h-4 w-4"}),"\uCD5C\uADFC \uB313\uAE00"]})}),(0,t.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:i.length>0?i.map(a=>(0,t.jsx)(b,{to:a.post.category?`/${a.post.category.slug}/${a.post.slug}`:`/post/${a.post.slug}`,className:"block px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:a.post.title}),(0,t.jsx)("p",{className:"text-sm text-gray-900 dark:text-gray-100 line-clamp-2",children:a.content}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,t.jsx)("span",{className:"font-medium",children:a.author.name||a.author.username}),(0,t.jsx)("span",{children:"\xB7"}),(0,t.jsx)(J,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:pe(a.createdAt)})]})]})},a.id)):(0,t.jsx)("div",{className:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"\uC544\uC9C1 \uB313\uAE00\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"})})]})]})}function pe(c){let e=new Date(c),r=Math.floor((new Date().getTime()-e.getTime())/1e3);return r<60?"\uBC29\uAE08 \uC804":r<3600?`${Math.floor(r/60)}\uBD84 \uC804`:r<86400?`${Math.floor(r/3600)}\uC2DC\uAC04 \uC804`:r<604800?`${Math.floor(r/86400)}\uC77C \uC804`:e.toLocaleDateString()}var L=m(H(),1);var ae=m(N(),1),re=m(H(),1),ie=(c,e,i,r)=>{c.style.transition=`${e} ${i}ms ${r}`},A=(c,e,i)=>Math.min(Math.max(c,e),i),R=class{constructor(e,i){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=a=>{let{width:n,height:o}=a,u=Math.sqrt(n**2+o**2);return{width:u,height:u}},this.setSize=a=>{let n=this.calculateGlareSize(a);this.glareEl.style.width=`${n.width}px`,this.glareEl.style.height=`${n.height}px`},this.update=(a,n,o,u)=>{this.updateAngle(a,n.glareReverse),this.updateOpacity(a,n,o,u)},this.updateAngle=(a,n)=>{let{xPercentage:o,yPercentage:u}=a,k=180/Math.PI,w=o?Math.atan2(u,-o)*k:0;this.glareAngle=w-(n?180:0)},this.updateOpacity=(a,n,o,u)=>{let{xPercentage:k,yPercentage:w}=a,{glarePosition:S,glareReverse:P,glareMaxOpacity:E}=n,I=o?-1:1,$=u?-1:1,x=P?-1:1,v=0;switch(S){case"top":v=-k*I*x;break;case"right":v=w*$*x;break;case"bottom":case void 0:v=k*I*x;break;case"left":v=-w*$*x;break;case"all":v=Math.hypot(k,w)}let C=A(v,0,100);this.glareOpacity=C*E/100},this.render=a=>{let{glareColor:n}=a;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${n} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";let r={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:i,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},s=this.calculateGlareSize(e),l={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${s.width}px`,height:`${s.height}px`};Object.assign(this.glareWrapperEl.style,r),Object.assign(this.glareEl.style,l)}},V=class{constructor(){this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,i)=>{this.updateTilt(e,i),this.updateTiltManualInput(e,i),this.updateTiltReverse(i),this.updateTiltLimits(i)},this.updateTilt=(e,i)=>{let{xPercentage:r,yPercentage:s}=e,{tiltMaxAngleX:l,tiltMaxAngleY:a}=i;this.tiltAngleX=r*l/100,this.tiltAngleY=s*a/100*-1},this.updateTiltManualInput=(e,i)=>{let{tiltAngleXManual:r,tiltAngleYManual:s,tiltMaxAngleX:l,tiltMaxAngleY:a}=i;(r!==null||s!==null)&&(this.tiltAngleX=r!==null?r:0,this.tiltAngleY=s!==null?s:0,e.xPercentage=100*this.tiltAngleX/l,e.yPercentage=100*this.tiltAngleY/a)},this.updateTiltReverse=e=>{let i=e.tiltReverse?-1:1;this.tiltAngleX=i*this.tiltAngleX,this.tiltAngleY=i*this.tiltAngleY},this.updateTiltLimits=e=>{let{tiltAxis:i}=e;this.tiltAngleX=A(this.tiltAngleX,-90,90),this.tiltAngleY=A(this.tiltAngleY,-90,90),i&&(this.tiltAngleX=i==="x"?this.tiltAngleX:0,this.tiltAngleY=i==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{let{tiltMaxAngleX:i,tiltMaxAngleY:r}=e;this.tiltAngleXPercentage=this.tiltAngleX/i*100,this.tiltAngleYPercentage=this.tiltAngleY/r*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}},ue={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"},O=class extends re.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;let e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{let{onEnter:i}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),i&&i({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{let{onLeave:i}=this.props;if(this.setTransitions(),i&&i({event:e}),this.props.reset){let r=new CustomEvent("autoreset");this.onMove(r)}},this.processInput=e=>{let{scale:i}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=i;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=i;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=i;break;case"autoreset":{let{tiltAngleXInitial:r,tiltAngleYInitial:s,tiltMaxAngleX:l,tiltMaxAngleY:a}=this.props,n=s/a*100;this.wrapperEl.clientPosition.xPercentage=A(r/l*100,-100,100),this.wrapperEl.clientPosition.yPercentage=A(n,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;let{tiltMaxAngleX:i,tiltMaxAngleY:r}=this.props,s=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/i*100,this.wrapperEl.clientPosition.yPercentage=s/r*100,this.wrapperEl.clientPosition.xPercentage=A(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=A(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{let{tiltEnable:i,flipVertically:r,flipHorizontally:s}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),i&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,r,s)},this.updateClientInput=()=>{let{trackOnWindow:e}=this.props,i,r;if(e){let{x:s,y:l}=this.wrapperEl.clientPosition;i=l/window.innerHeight*200-100,r=s/window.innerWidth*200-100}else{let{size:{width:s,height:l,left:a,top:n},clientPosition:{x:o,y:u}}=this.wrapperEl;i=(u-n)/l*200-100,r=(o-a)/s*200-100}this.wrapperEl.clientPosition.xPercentage=A(i,-100,100),this.wrapperEl.clientPosition.yPercentage=A(r,-100,100)},this.updateFlip=()=>{let{flipVertically:e,flipHorizontally:i}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),i&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new V,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;let e=new CustomEvent("autoreset");this.mainLoop(e);let i=new CustomEvent("initial");this.emitOnMove(i)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){let e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){let{trackOnWindow:e,gyroscope:i}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),i&&this.addDeviceOrientationEventListener()}removeEventListeners(){let{trackOnWindow:e,gyroscope:i}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),i&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){let e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){let{glareEnable:e,glareBorderRadius:i}=this.props;e&&(this.glare=new R(this.wrapperEl.size,i),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){let{onMove:i}=this.props;if(!i)return;let r=0,s=0;this.glare&&(r=this.glare.glareAngle,s=this.glare.glareOpacity),i({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:r,glareOpacity:s,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){let{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){let{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){let{transitionSpeed:e,transitionEasing:i}=this.props;ie(this.wrapperEl.node,"all",e,i),this.glare&&ie(this.glare.glareEl,"opacity",e,i)}render(){let{children:e,className:i,style:r}=this.props;return(0,ae.jsx)("div",{ref:s=>{this.wrapperEl.node=s},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:i,style:r,children:e})}};O.defaultProps=ue;var g=m(N(),1);function se({topicId:c,title:e,description:i,initialLikeCount:r=0,initialDislikeCount:s=0,initialUserVote:l=null}){let a="\u{1F44D} \uC88B\uC544\uC694",n="\u{1F44E} \uC2EB\uC5B4\uC694";if(i)try{let y=JSON.parse(i);y.leftOption&&(a=y.leftOption),y.rightOption&&(n=y.rightOption)}catch{}let[o,u]=(0,L.useState)(null),[k,w]=(0,L.useState)(r),[S,P]=(0,L.useState)(s),[E,I]=(0,L.useState)(l),[$,x]=(0,L.useState)(!1),v=_();(0,L.useEffect)(()=>{if(v.data&&v.data.success){let{action:y,voteType:M}=v.data;y==="removed"?(E==="LIKE"?w(h=>h-1):E==="DISLIKE"&&P(h=>h-1),I(null),x(!1)):y==="changed"?(E==="LIKE"?(w(h=>h-1),P(h=>h+1)):E==="DISLIKE"&&(P(h=>h-1),w(h=>h+1)),I(M),x(!0),setTimeout(()=>x(!1),2e3)):y==="added"&&(M==="LIKE"?w(h=>h+1):P(h=>h+1),I(M),x(!0),setTimeout(()=>x(!1),2e3))}},[v.data,E]);let C=y=>{let M=new FormData;M.append("topicId",c),M.append("voteType",y),v.submit(M,{method:"post",action:"/api/vote"})},Y=k+S,T=Y>0?k/Y*100:50,oe=Y>0?S/Y*100:50,f=v.state==="submitting";return(0,g.jsx)(O,{tiltMaxAngleX:5,tiltMaxAngleY:5,perspective:1e3,scale:1.02,transitionSpeed:400,gyroscope:!0,className:"w-full",children:(0,g.jsxs)("div",{className:"relative h-64 rounded-xl overflow-hidden shadow-lg border border-gray-200 dark:border-gray-800 cursor-pointer group",children:[(0,g.jsx)("div",{className:"absolute top-0 left-0 right-0 z-20 p-6 bg-gradient-to-b from-black/60 to-transparent",children:(0,g.jsx)("h3",{className:"text-xl font-bold text-white text-center drop-shadow-lg",children:e})}),(0,g.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,g.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500 via-red-600 to-red-700 dark:from-red-600 dark:via-red-700 dark:to-red-800",style:{clipPath:`polygon(0 0, ${T}% 0, ${Math.max(T-10,0)}% 100%, 0 100%)`,opacity:o==="like"?1:o==="dislike"?.6:.85,transition:"clip-path 0.8s cubic-bezier(0.4, 0.0, 0.2, 1), opacity 0.3s ease"},onMouseEnter:()=>!f&&u("like"),onMouseLeave:()=>u(null),onClick:()=>!f&&C("LIKE")}),(0,g.jsx)("div",{className:"absolute inset-0 bg-gradient-to-bl from-blue-500 via-blue-600 to-blue-700 dark:from-blue-600 dark:via-blue-700 dark:to-blue-800",style:{clipPath:`polygon(${Math.min(T+10,100)}% 0, 100% 0, 100% 100%, ${T}% 100%)`,opacity:o==="dislike"?1:o==="like"?.6:.85,transition:"clip-path 0.8s cubic-bezier(0.4, 0.0, 0.2, 1), opacity 0.3s ease"},onMouseEnter:()=>!f&&u("dislike"),onMouseLeave:()=>u(null),onClick:()=>!f&&C("DISLIKE")})]}),(0,g.jsxs)("div",{className:"absolute inset-0 z-10 flex items-center justify-between px-8",children:[(0,g.jsxs)("button",{onClick:()=>C("LIKE"),onMouseEnter:()=>!f&&u("like"),onMouseLeave:()=>u(null),disabled:f,className:`flex flex-col items-center gap-2 transition-all duration-300 transform ${o==="like"?"scale-125":o==="dislike"?"scale-90 opacity-50":"scale-100"} ${f?"opacity-70 cursor-not-allowed":""}`,children:[(0,g.jsx)("div",{className:`px-6 py-3 rounded-full flex items-center justify-center bg-white/20 backdrop-blur-sm border-2 transition-all duration-300 ${o==="like"?"bg-white/40 shadow-2xl":""} ${E==="LIKE"&&$?"border-white border-4 shadow-[0_0_20px_rgba(255,255,255,0.8)]":"border-white/50"}`,children:(0,g.jsx)("span",{className:"text-2xl font-bold text-white drop-shadow-lg whitespace-nowrap",children:a})}),(0,g.jsx)("span",{className:"text-3xl font-bold text-white drop-shadow-lg",children:k}),(0,g.jsxs)("span",{className:"text-sm font-medium text-white/90 drop-shadow",children:[T.toFixed(1),"%"]})]}),(0,g.jsxs)("button",{onClick:()=>C("DISLIKE"),onMouseEnter:()=>!f&&u("dislike"),onMouseLeave:()=>u(null),disabled:f,className:`flex flex-col items-center gap-2 transition-all duration-300 transform ${o==="dislike"?"scale-125":o==="like"?"scale-90 opacity-50":"scale-100"} ${f?"opacity-70 cursor-not-allowed":""}`,children:[(0,g.jsx)("div",{className:`px-6 py-3 rounded-full flex items-center justify-center bg-white/20 backdrop-blur-sm border-2 transition-all duration-300 ${o==="dislike"?"bg-white/40 shadow-2xl":""} ${E==="DISLIKE"&&$?"border-white border-4 shadow-[0_0_20px_rgba(255,255,255,0.8)]":"border-white/50"}`,children:(0,g.jsx)("span",{className:"text-2xl font-bold text-white drop-shadow-lg whitespace-nowrap",children:n})}),(0,g.jsx)("span",{className:"text-3xl font-bold text-white drop-shadow-lg",children:S}),(0,g.jsxs)("span",{className:"text-sm font-medium text-white/90 drop-shadow",children:[oe.toFixed(1),"%"]})]})]}),(0,g.jsx)("div",{className:"absolute bottom-0 left-0 right-0 z-20 p-4 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,g.jsx)("p",{className:"text-center text-white text-sm font-medium drop-shadow",children:o==="like"?`${a} \uC120\uD0DD!`:o==="dislike"?`${n} \uC120\uD0DD!`:"\uD22C\uD45C\uD558\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694"})})]})})}var p=m(N(),1),ye=()=>[{title:"Blee CMS - \uD604\uB300\uC801\uC778 \uCF58\uD150\uCE20 \uAD00\uB9AC \uC2DC\uC2A4\uD15C"},{name:"description",content:"Blee CMS\uB85C \uCF58\uD150\uCE20\uB97C \uD6A8\uC728\uC801\uC73C\uB85C \uAD00\uB9AC\uD558\uC138\uC694"}];function ne(){let{user:c,voteStats:e,categoryPosts:i,popularPosts:r,memberRankings:s,recentComments:l}=U(),a=["blue","green","purple","orange","red","yellow","gray","blue"];return(0,p.jsx)("div",{className:"bg-gray-50 dark:bg-gray-950",children:(0,p.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",style:{maxWidth:"1450px"},children:(0,p.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_320px] gap-6",children:[(0,p.jsxs)("main",{className:"order-1",children:[(0,p.jsxs)("div",{className:"mb-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"\uC624\uB298\uC758 \uD22C\uD45C"}),c?.role==="ADMIN"&&(0,p.jsxs)("a",{href:"/admin",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium transition-colors",title:"\uAD00\uB9AC\uC790 \uD328\uB110 (\uC0C8 \uCC3D)",children:[(0,p.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"\uAD00\uB9AC \uD328\uB110"]})]}),e?(0,p.jsx)(se,{topicId:e.topicId,title:e.title,description:e.description,initialLikeCount:e.likeCount,initialDislikeCount:e.dislikeCount,initialUserVote:e.userVote}):(0,p.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-8 text-center",children:(0,p.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"\uD604\uC7AC \uC9C4\uD589 \uC911\uC778 \uD22C\uD45C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"})})]}),(0,p.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map((n,o)=>(0,p.jsx)(ee,{title:n.category.name,slug:n.category.slug,posts:n.posts,color:a[o%a.length]},n.category.id))})]}),(0,p.jsx)("aside",{className:"order-2 lg:w-80",children:(0,p.jsx)(te,{popularPosts:r,memberRankings:s,recentComments:l,position:"right",user:c})})]})})})}export{ne as default,ye as meta};
