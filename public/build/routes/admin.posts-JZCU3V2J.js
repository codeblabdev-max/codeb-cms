import{a as le}from"/build/_shared/chunk-DDSJJYRT.js";import{a as Y}from"/build/_shared/chunk-3GMP5WPF.js";import{a as ue,b as me,c as pe,d as j,e as g,f as v}from"/build/_shared/chunk-N5S23J2N.js";import{a as be,b as fe,c as he,d as Ce,e as ke}from"/build/_shared/chunk-NWFYU2FN.js";import{a as re,b as ne,c as se,d as ie,e as ce}from"/build/_shared/chunk-AN4UQUMK.js";import"/build/_shared/chunk-KL5BGV2P.js";import{a as ae}from"/build/_shared/chunk-QICCFYE2.js";import{k as de}from"/build/_shared/chunk-CUW5AVGU.js";import{a as U}from"/build/_shared/chunk-PCTR2B2R.js";import"/build/_shared/chunk-IOAK6PR3.js";import{a as Q}from"/build/_shared/chunk-VIBQ7JRO.js";import{a as $,c as W,e as J,f as _}from"/build/_shared/chunk-Q6XJQZ5P.js";import{G as ee,o as Z,ra as te,va as oe}from"/build/_shared/chunk-I65ZP6PF.js";import{a as P}from"/build/_shared/chunk-FNIX4AK2.js";import{b as L,e as x}from"/build/_shared/chunk-6LERFUO7.js";import{b as z}from"/build/_shared/chunk-EMPAMISE.js";import{a as _e}from"/build/_shared/chunk-YBX7ITP5.js";import{a as Be}from"/build/_shared/chunk-CW54B3GA.js";import{a as Se}from"/build/_shared/chunk-KPWQHS6G.js";import{a as F,i as N,n as V,p as X,s as S}from"/build/_shared/chunk-K4PGTQBQ.js";import{d as h}from"/build/_shared/chunk-T36URGAI.js";var Fe=h(Se(),1);var Pe=h(F(),1);var c=h(F(),1);var m=h(S(),1),B="Checkbox",[Ee,Xe]=W(B),[Ae,q]=Ee(B);function He(o){let{__scopeCheckbox:l,checked:i,children:n,defaultChecked:s,disabled:a,form:C,name:k,onCheckedChange:p,required:f,value:t="on",internal_do_not_use_render:r}=o,[d,T]=J({prop:i,defaultProp:s??!1,onChange:p,caller:B}),[w,R]=c.useState(null),[I,u]=c.useState(null),b=c.useRef(!1),D=w?!!C||!!w.closest("form"):!0,M={checked:d,disabled:a,setChecked:T,control:w,setControl:R,name:k,form:C,value:t,hasConsumerStoppedPropagationRef:b,required:f,defaultChecked:y(s)?!1:s,isFormControl:D,bubbleInput:I,setBubbleInput:u};return(0,m.jsx)(Ae,{scope:l,...M,children:De(r)?r(M):n})}var ge="CheckboxTrigger",ve=c.forwardRef(({__scopeCheckbox:o,onKeyDown:l,onClick:i,...n},s)=>{let{control:a,value:C,disabled:k,checked:p,required:f,setControl:t,setChecked:r,hasConsumerStoppedPropagationRef:d,isFormControl:T,bubbleInput:w}=q(ge,o),R=L(s,t),I=c.useRef(p);return c.useEffect(()=>{let u=a?.form;if(u){let b=()=>r(I.current);return u.addEventListener("reset",b),()=>u.removeEventListener("reset",b)}},[a,r]),(0,m.jsx)(_.button,{type:"button",role:"checkbox","aria-checked":y(p)?"mixed":p,"aria-required":f,"data-state":Re(p),"data-disabled":k?"":void 0,disabled:k,value:C,...n,ref:R,onKeyDown:$(l,u=>{u.key==="Enter"&&u.preventDefault()}),onClick:$(i,u=>{r(b=>y(b)?!0:!b),w&&T&&(d.current=u.isPropagationStopped(),d.current||u.stopPropagation())})})});ve.displayName=ge;var E=c.forwardRef((o,l)=>{let{__scopeCheckbox:i,name:n,checked:s,defaultChecked:a,required:C,disabled:k,value:p,onCheckedChange:f,form:t,...r}=o;return(0,m.jsx)(He,{__scopeCheckbox:i,checked:s,defaultChecked:a,disabled:k,required:C,onCheckedChange:f,name:n,form:t,value:p,internal_do_not_use_render:({isFormControl:d})=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ve,{...r,ref:l,__scopeCheckbox:i}),d&&(0,m.jsx)(we,{__scopeCheckbox:i})]})})});E.displayName=B;var xe="CheckboxIndicator",O=c.forwardRef((o,l)=>{let{__scopeCheckbox:i,forceMount:n,...s}=o,a=q(xe,i);return(0,m.jsx)(Y,{present:n||y(a.checked)||a.checked===!0,children:(0,m.jsx)(_.span,{"data-state":Re(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:l,style:{pointerEvents:"none",...o.style}})})});O.displayName=xe;var ye="CheckboxBubbleInput",we=c.forwardRef(({__scopeCheckbox:o,...l},i)=>{let{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:C,required:k,disabled:p,name:f,value:t,form:r,bubbleInput:d,setBubbleInput:T}=q(ye,o),w=L(i,T),R=ae(a),I=Q(n);c.useEffect(()=>{let b=d;if(!b)return;let D=window.HTMLInputElement.prototype,K=Object.getOwnPropertyDescriptor(D,"checked").set,Ie=!s.current;if(R!==a&&K){let Ne=new Event("click",{bubbles:Ie});b.indeterminate=y(a),K.call(b,y(a)?!1:a),b.dispatchEvent(Ne)}},[d,R,a,s]);let u=c.useRef(y(a)?!1:a);return(0,m.jsx)(_.input,{type:"checkbox","aria-hidden":!0,defaultChecked:C??u.current,required:k,disabled:p,name:f,value:t,form:r,...l,tabIndex:-1,ref:w,style:{...l.style,...I,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});we.displayName=ye;function De(o){return typeof o=="function"}function y(o){return o==="indeterminate"}function Re(o){return y(o)?"indeterminate":o?"checked":"unchecked"}var A=h(S(),1),H=Pe.forwardRef(({className:o,...l},i)=>(0,A.jsx)(E,{ref:i,className:z("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",o),...l,children:(0,A.jsx)(O,{className:z("flex items-center justify-center text-current"),children:(0,A.jsx)(Z,{className:"h-4 w-4"})})}));H.displayName=E.displayName;var Le=h(_e(),1),ze=h(Be(),1);var G=h(F(),1);var e=h(S(),1),ut=P.object({intent:P.enum(["delete","publish","unpublish","bulkDelete","bulkPublish","bulkUnpublish"]),postId:P.string().optional(),postIds:P.array(P.string()).optional()});function Te(){let{posts:o,menus:l}=V(),i=X(),[n,s]=(0,G.useState)([]),[a,C]=(0,G.useState)(""),k=t=>{s(t?o.map(r=>r.id):[])},p=(t,r)=>{s(r?[...n,t]:n.filter(d=>d!==t))},f=t=>{if(n.length===0)return;let r=new FormData;r.set("intent",t),n.forEach(d=>r.append("postIds",d)),i.submit(r,{method:"post"}),s([])};return(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"\uAC8C\uC2DC\uAE00 \uAD00\uB9AC"}),(0,e.jsx)("p",{className:"text-muted-foreground",children:"\uBAA8\uB4E0 \uAC8C\uC2DC\uAE00\uC744 \uAD00\uB9AC\uD569\uB2C8\uB2E4."})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsxs)(re,{value:a,onValueChange:C,children:[(0,e.jsx)(se,{className:"w-[180px]",children:(0,e.jsx)(ne,{placeholder:"\uAC8C\uC2DC\uD310 \uC120\uD0DD"})}),(0,e.jsx)(ie,{children:l.map(t=>(0,e.jsx)(ce,{value:t.slug,children:t.name},t.id))})]}),(0,e.jsx)(x,{asChild:!0,disabled:!a,children:(0,e.jsx)(N,{to:a?`/${a}/write`:"#",children:"\uC0C8 \uAC8C\uC2DC\uAE00 \uC791\uC131"})})]})]}),(0,e.jsxs)(be,{children:[(0,e.jsxs)(fe,{children:[(0,e.jsx)(he,{children:"\uAC8C\uC2DC\uAE00 \uBAA9\uB85D"}),(0,e.jsxs)(Ce,{children:["\uCD1D ",o.length,"\uAC1C\uC758 \uAC8C\uC2DC\uAE00"]})]}),(0,e.jsxs)(ke,{children:[n.length>0&&(0,e.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,e.jsxs)("span",{className:"text-sm text-muted-foreground",children:[n.length,"\uAC1C \uC120\uD0DD\uB428"]}),(0,e.jsx)(x,{size:"sm",variant:"outline",onClick:()=>f("bulkPublish"),children:"\uC77C\uAD04 \uACF5\uAC1C"}),(0,e.jsx)(x,{size:"sm",variant:"outline",onClick:()=>f("bulkUnpublish"),children:"\uC77C\uAD04 \uBE44\uACF5\uAC1C"}),(0,e.jsx)(x,{size:"sm",variant:"destructive",onClick:()=>{confirm("\uC120\uD0DD\uD55C \uAC8C\uC2DC\uAE00\uC744 \uBAA8\uB450 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")&&f("bulkDelete")},children:"\uC77C\uAD04 \uC0AD\uC81C"})]}),(0,e.jsx)("div",{className:"rounded-md border",children:(0,e.jsxs)(ue,{children:[(0,e.jsx)(me,{children:(0,e.jsxs)(j,{children:[(0,e.jsx)(g,{className:"w-[50px]",children:(0,e.jsx)(H,{checked:n.length===o.length&&o.length>0,onCheckedChange:k})}),(0,e.jsx)(g,{children:"\uC81C\uBAA9"}),(0,e.jsx)(g,{children:"\uC791\uC131\uC790"}),(0,e.jsx)(g,{children:"\uCE74\uD14C\uACE0\uB9AC"}),(0,e.jsx)(g,{children:"\uC0C1\uD0DC"}),(0,e.jsx)(g,{children:"\uC870\uD68C\uC218"}),(0,e.jsx)(g,{children:"\uB313\uAE00"}),(0,e.jsx)(g,{children:"\uC791\uC131\uC77C"}),(0,e.jsx)(g,{className:"w-[100px]",children:"\uC791\uC5C5"})]})}),(0,e.jsx)(pe,{children:o.map(t=>(0,e.jsxs)(j,{children:[(0,e.jsx)(v,{children:(0,e.jsx)(H,{checked:n.includes(t.id),onCheckedChange:r=>p(t.id,r)})}),(0,e.jsx)(v,{children:(0,e.jsx)(N,{to:t.menu?`/${t.menu.slug}/${t.slug}`:"#",className:"font-medium hover:underline",children:t.title})}),(0,e.jsx)(v,{children:(0,e.jsxs)("div",{className:"text-sm",children:[(0,e.jsx)("p",{children:t.author.name||"\uC774\uB984 \uC5C6\uC74C"}),(0,e.jsx)("p",{className:"text-muted-foreground",children:t.author.email})]})}),(0,e.jsx)(v,{children:t.menu?(0,e.jsx)(U,{variant:"secondary",children:t.menu.name}):(0,e.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,e.jsx)(v,{children:(0,e.jsx)(U,{variant:t.isPublished?"default":"secondary",children:t.isPublished?"\uACF5\uAC1C":"\uBE44\uACF5\uAC1C"})}),(0,e.jsx)(v,{children:t.views}),(0,e.jsx)(v,{children:t._count.comments}),(0,e.jsx)(v,{children:le(new Date(t.createdAt),"yyyy-MM-dd",{locale:de})}),(0,e.jsx)(v,{children:(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)(x,{size:"icon",variant:"ghost",asChild:!0,children:(0,e.jsx)(N,{to:t.menu?`/${t.menu.slug}/${t.slug}`:"#",children:(0,e.jsx)(ee,{className:"h-4 w-4"})})}),(0,e.jsx)(x,{size:"icon",variant:"ghost",asChild:!0,children:(0,e.jsx)(N,{to:t.menu?`/${t.menu.slug}/${t.slug}/edit`:"#",children:(0,e.jsx)(te,{className:"h-4 w-4"})})}),(0,e.jsxs)(i.Form,{method:"post",className:"inline",children:[(0,e.jsx)("input",{type:"hidden",name:"intent",value:"delete"}),(0,e.jsx)("input",{type:"hidden",name:"postId",value:t.id}),(0,e.jsx)(x,{size:"icon",variant:"ghost",type:"submit",onClick:r=>{confirm("\uC774 \uAC8C\uC2DC\uAE00\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")||r.preventDefault()},children:(0,e.jsx)(oe,{className:"h-4 w-4 text-red-600"})})]})]})})]},t.id))})]})})]})]})]})}export{Te as default};
